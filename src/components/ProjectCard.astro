---
import PCIcon from "./icons/PCIcon.astro";
import MobileIcon from "./icons/MobileIcon.astro";
import { Image } from "astro:assets";
import GitHubIcon from "./icons/GitHubIcon.astro";
import WorldIcon from "./icons/WorldIcon.astro";
interface Props {
  slug: string;
  num: string;
  title: string;
  description: string;
  compatibility: { pc: boolean; mobile: boolean };
}

const { slug, num, title, description, compatibility } = Astro.props;
---

<article class="relative flex flex-col items-center text-black rounded-t-[15px] rounded-b-md bg-[--background-200]">
  <a href={`/${slug}`} class="group transition">
    <span class="group-hover:scale-[1.7] transition-all group-hover:top-4 group-hover:left-6 opacity-80 group-hover:opacity-100 absolute top-2 left-2 text-2xl font-bold font-Krypton gradient">
      #{num}
    </span>
    <Image
      src={`/projects/thumbnails/${num}.webp`}
      alt={`proyecto ${num} '${title}'`}
      width={300}
      height={200}
      loading="eager"
      class="w-full rounded-[15px] group-hover:rounded-[0px] transition-all overflow-hidden object-cover"
    />
  </a>

  <div class="px-5 py-2 h-full flex flex-col justify-between">
    <div>
      <h2 class="text-3xl md:text-4xl font-bold font-Krypton text-[--text-950] flex items-center">{title}</h2>
      <p class="mt-2 mb-4 font-light text-neutral-700 dark:text-amber-50 text-pretty">{description}</p>
    </div>

    <div class="flex justify-between items-center mt-2 mb-3 text-xs font-semibold text-center">
      <div class="flex gap-2 [&>a]:flex [&>a]:items-center [&>a]:justify-center [&>a]:px-3 [&>a]:py-2 [&>a]:border [&>a]:md:text-sm">
        <a
          href={`https://github.com/CrashLanXD/101-proyectos-javascript/tree/master/public/projects/${slug}`}
          target="_blank"
          rel="noopener noreferrer"
          class="text-[--text-950] dark:text-white bg-[--background-200] dark:bg-black/60 transition border-black/60 dark:border-white/10 rounded-md hover:bg-neutral-400/50 dark:hover:bg-zinc-900"
        >
          <GitHubIcon class="size-5 mr-1" />
          Código
        </a>

        <a
          href={`/${slug}`}
          target="_blank"
          rel="noopener noreferrer"
          class="text-amber-700 dark:text-amber-400 bg-[--secondary-100] dark:bg-black/50 transition border-amber-500 dark:border-orange-700/60 rounded-md hover:bg-[--secondary-200] dark:hover:bg-yellow-300/10"
        >
          <WorldIcon class="size-5 mr-1" />
          Visitar
        </a>
      </div>
      <div
        class="flex flex-row-reverse h-fit gap-2 [&>span]:rounded-xl [&>span]:size-8 [&>span]:border [&>span]:bg-[--background-50] [&>span]:flex [&>span]:items-center [&>span]:justify-center"
      >
      <span
      class={`${compatibility.pc ? "text-green-500 border-green-900" : "text-red-500 border-red-900"}`}
      title={`${compatibility.pc ? "Compatible" : "No compatible"} con PC`}
      ><PCIcon class="size-5" /></span
      >
      <span
      class={`${compatibility.mobile ? "text-green-500 border-green-900" : "text-red-500 border-red-900"}`}
      title={`${compatibility.mobile ? "Compatible" : "No compatible"} con móvil`}
      ><MobileIcon class="size-5" /></span
      >
      </div>
    </div>
  </div>
</article>

<style>
  a:hover {
    .gradient {
      background: linear-gradient(
        135deg,
        #161616,
        #121212,
        #000000,
        #181818,
        #252525,
        #434343,
        #181818,
        #000000
      );

      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 300% 300%;
      animation: gradient 3s ease-in-out infinite;
    }
  }

  h2,
  p {
    font-family: InterVariable, sans-serif;
  }

  @keyframes gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  img {
    aspect-ratio: 3 / 2;
  }
</style>