---
import Layout from "@/layouts/Layout.astro";
import ProjectBadge from "@/components/ProjectBadge.astro";
import { PROJECTS } from "@/constants/projects";

export function getStaticPaths () {
  return PROJECTS.map((project) => {
    return {
      params: {
        project: project.slug
      },
    }
  })
};

const { project } = Astro.params;
const index = PROJECTS.findIndex((p) => p.slug === project);
const info = PROJECTS[index];
const number = `${index + 1}`.padStart(2, "0");
---

<Layout title={`Proyecto ${number}: ${info.title}`} defaultTheme="system">
  <iframe title={`${info.title}`} class="w-screen h-dvh" src={`/${project}/index.html`}></iframe>
  <ProjectBadge title={info.title} number={number}/>
</Layout>